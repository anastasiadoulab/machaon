<!DOCTYPE html><head><meta charset="utf-8"/><style> .class-name { color: blue; }  .info-label { font-weight: bold; } .method-section {margin-left: 50px; padding-bottom: 50px;} .method-name { font-weight: bold; color: blue;} .attr-name{color : maroon;} .param-name{color: darkcyan;} .return-name{color: green;} </style></head><body>
<div>
<hr><h1 data-search="scanner" class="class-name">Class Scanner</h1><hr><span class="info-label">Description:</span><br/><br/><span class="class-description">
This class is responsible for coordinating the feature extraction and the structural comparison of the reference with the <br/>
candidate proteins in the target dataset. (Standard mode : whole structure comparisons)
</span><br/><br/><h2 class="methods-label">Methods:</h2><br/><br/>
<div data-search="__init__" class="method-section"><span class="method-name" data-search="__init__">__init__()</span><br/><br/><span class="info-label">Description:</span><br/><br/><span class="method-description">
Constructor
</span><br/><br/>
<br/><span class="info-label">Class Attributes:</span><ul>
<li data-search="root_disk"><span class="attr-name">root_disk [default: '']</span>: <span class="attr-description">
Current setting of root disk where the third-party data and the target dataset reside. (string)
</span></li>
<li data-search="debugging"><span class="attr-name">debugging [default: False]</span>: <span class="attr-description">
Toggle debugging mode (single core execution). (boolean)
</span></li>
<li data-search="verbose"><span class="attr-name">verbose [default: False]</span>: <span class="attr-description">
Toggle verbose output. (boolean)
</span></li>
<li data-search="reference_pdb_id"><span class="attr-name">reference_pdb_id [default: '']</span>: <span class="attr-description">
Reference PDB ID (string)
</span></li>
<li data-search="reference_chain_id"><span class="attr-name">reference_chain_id [default: '']</span>: <span class="attr-description">
Reference PDB chain ID (string)
</span></li>
<li data-search="chunk_size"><span class="attr-name">chunk_size [default: 100000]</span>: <span class="attr-description">
Chunk size of candidate entries for parallel execution
</span></li>
<li data-search="candidates"><span class="attr-name">candidates [default: defaultdict()]</span>: <span class="attr-description">
Dictionary that contains candidate entries according to their available features data. The key is an index that corresponds to a metric<br/>
and the value is a list of tupples. Each tupple has information about the candidate (PDB ID, PDB chain ID, index of a metric that is feasible<br/> 
to be computed). One candidate might not have all features required for the computation of all the metrics.
</span></li>
<li data-search="features_path"><span class="attr-name">features_path [default: '']</span>: <span class="attr-description">
Output path for the features (string)
</span></li>
<li data-search="features_file_list"><span class="attr-name">features_file_list [default: '']</span>: <span class="attr-description">
Path for the features file list CSV file (string)
</span></li>
<li data-search="pdb_dataset_path"><span class="attr-name">pdb_dataset_path [default: '']</span>: <span class="attr-description">
PDB data path (relative) (string)
</span></li>
<li data-search="metrics_output_path"><span class="attr-name">metrics_output_path [default: '']</span>: <span class="attr-description">
Metrics output path (string)
</span></li>
<li data-search="_feature_file_suffixes"><span class="attr-name">_feature_file_suffixes [default: ['angles', 'distances', 'triangles']]</span>: <span class="attr-description">
Suffixes for feature data files (list of strings)
</span></li>
<li data-search="_feature_file_suffixes_dict"><span class="attr-name">_feature_file_suffixes_dict </span>: <span class="attr-description">
Dictionary version of _feature_file_suffixes attribute. The key is the index of the feature from the list and the value is its name.
</span></li>
<li data-search="_column_headers"><span class="attr-name">_column_headers [default: ['b-phipsi', 'w-rdist', 't-alpha']]</span>: <span class="attr-description">
Column headers for the metrics. (list of strings)
</span></li>
<li data-search="_feature_filelist_header"><span class="attr-name">_feature_filelist_header [default: 'structureId\tchainId\tmetric']</span>: <span class="attr-description">
The headers for the feature list CSV file (string)
</span></li>
<li data-search="cores"><span class="attr-name">cores [default: 1]</span>: <span class="attr-description">
User-specified maximum processes (int)
</span></li>
<li data-search="update_features"><span class="attr-name">update_features [default: []]</span>: <span class="attr-description">
An option for re-extracting a type of features for all dataset, overwriting existing feature data (useful for experimentation on the metric formulas). (list of strings)
</span></li>
<li data-search="recompute_features"><span class="attr-name">recompute_features [default: False]</span>: <span class="attr-description">
An option for re-extracting all types of features for all dataset, overwriting existing feature data (boolean)
</span></li>
<li data-search="extend_feature_data"><span class="attr-name">extend_feature_data [default: False]</span>: <span class="attr-description">
An option to extract features for new PDB files in the candidate set  (boolean)
</span></li>
<li data-search="pdb_validation"><span class="attr-name">pdb_validation [default: False]</span>: <span class="attr-description">
Extract PDB chains using RDKit instead of BioPython: it includes a validation of the PDB file contents' integrity (like bond information from CONECT records) <br/>
[Note: RDKit is used for fingerprint calculations on meta-analysis step where PDB validation is a fortunate side effect.]
</span></li>
<li data-search="store_format"><span class="attr-name">store_format [default: '.proto']</span>: <span class="attr-description">
Storage format for extracted features. Legacy support for Pickle format used in earlier versions. (string)
</span></li>
<li data-search="metric_indices"><span class="attr-name">metric_indices [default: []]</span>: <span class="attr-description">
List for collecting numbers that correspond to metrics. (list of ints)
</span></li>
<li data-search="execution_cutoff"><span class="attr-name">execution_cutoff [default: 12 * 60]</span>: <span class="attr-description">
A time interval for stopping execution of a parallel running process. 
</span></li>
</ul>
</div>
<div data-search="load_features" class="method-section"><span class="method-name" data-search="load_features">load_features()</span><br/><br/><span class="info-label">Description:</span><br/><br/><span class="method-description">
Loads feature data for a specific PDB chain and metric.
</span><br/><br/>
<br/><span class="info-label">Arguments:</span><ul>
<li data-search="pdb_id"><span class="param-name">pdb_id</span>: <span class="arg-description">
Reference PDB ID (string)
</span></li>
<li data-search="chain_id"><span class="param-name">chain_id</span>: <span class="arg-description">
Reference PDB chain ID (string)
</span></li>
<li data-search="metric_index"><span class="param-name">metric_index</span>: <span class="arg-description">
Metric ID (int)
</span></li>
<li data-search="naming_extension"><span class="param-name">naming_extension [default: '']</span>: <span class="arg-description">
A suffix for the resulting filename (placeholder for other uses: see SegmentScanner, DomainScanner) (string)
</span></li>
</ul>
<span class="info-label">Returns:</span><ul>
<li data-search="metric_data"><span class="return-name">metric_data</span>: <span class="return-description">
The loaded value(s) of the feature.
</span></li>
</ul>
</div>
<div data-search="wasserstein_distance" class="method-section"><span class="method-name" data-search="wasserstein_distance">wasserstein_distance()</span><br/><br/><span class="info-label">Description:</span><br/><br/><span class="method-description">
Computes the Wasserstein distance (a stripped version of the equivalent SciPy function).
</span><br/><br/>
<br/><span class="info-label">Arguments:</span><ul>
<li data-search="u_values"><span class="param-name">u_values</span>: <span class="arg-description">
Values from the first distribution (numpy array, float)
</span></li>
<li data-search="v_values"><span class="param-name">v_values</span>: <span class="arg-description">
Values from the second distribution (numpy array, float)
</span></li>
</ul>
<span class="info-label">Returns:</span><ul>
<li data-search="np"><span class="return-description">
The distribution distance. (float)
</span></li>
</ul>
</div>
<div data-search="compute_metrics" class="method-section"><span class="method-name" data-search="compute_metrics">compute_metrics()</span><br/><br/><span class="info-label">Description:</span><br/><br/><span class="method-description">
Computes the metrics for a PDB chain.
</span><br/><br/>
<br/><span class="info-label">Arguments:</span><ul>
<li data-search="entry"><span class="param-name">entry</span>: <span class="arg-description">
Composite input : feature data array and structure choice tupple. The tupple contains chosen PDB ID, PDB chain ID, metric index and naming extension suffix (see load_features()).
</span></li>
</ul>
<span class="info-label">Returns:</span><ul>
<li data-search="result"><span class="return-name">result</span>: <span class="return-description">
metric value (float)
</span></li>
</ul>
</div>
<div data-search="collect_features" class="method-section"><span class="method-name" data-search="collect_features">collect_features()</span><br/><br/><span class="info-label">Description:</span><br/><br/><span class="method-description">
Coordinates feature extraction.
</span><br/><br/>
</div>
<div data-search="create_feature_filelist" class="method-section"><span class="method-name" data-search="create_feature_filelist">create_feature_filelist()</span><br/><br/><span class="info-label">Description:</span><br/><br/><span class="method-description">
Creates a CSV file for a list of the extracted features per metric.
</span><br/><br/>
</div>
<div data-search="extract_feature" class="method-section"><span class="method-name" data-search="extract_feature">extract_feature()</span><br/><br/><span class="info-label">Description:</span><br/><br/><span class="method-description">
Extracts a specific feature for a chosen PDB chain.
</span><br/><br/>
<br/><span class="info-label">Arguments:</span><ul>
<li data-search="chain_id"><span class="param-name">chain_id</span>: <span class="arg-description">
PDB chain ID (string)
</span></li>
<li data-search="output_path"><span class="param-name">output_path</span>: <span class="arg-description">
Full path for storing the feature (string)
</span></li>
<li data-search="full_pdbfile_path"><span class="param-name">full_pdbfile_path</span>: <span class="arg-description">
Full path (string)
</span></li>
<li data-search="feature"><span class="param-name">feature</span>: <span class="arg-description">
Type of feature (string)
</span></li>
<li data-search="**kwargs"><span class="param-name">**kwargs</span>: <span class="arg-description">
Extra arguments:<ul>
<li>'residueSelection': a selection of residues, one-based indexing</li>
<li>'noStore': Do not store the feature data</li>
</ul>
</span></li>
</ul>
<span class="info-label">Returns:</span><ul>
<li data-search="feature_data"><span class="return-name">feature_data</span>: <span class="return-description">
the data of a feature (numpy array or float) (False if there is a failure)
</span></li>
</ul>
</div>
<div data-search="extract_features" class="method-section"><span class="method-name" data-search="extract_features">extract_features()</span><br/><br/><span class="info-label">Description:</span><br/><br/><span class="method-description">
A method for feature extraction.
</span><br/><br/>
<br/><span class="info-label">Arguments:</span><ul>
<li data-search="entry"><span class="param-name">entry</span>: <span class="arg-description">
PDB filename
</span></li>
</ul>
<span class="info-label">Returns:</span><ul>
<li data-search="result"><span class="return-name">result</span>: <span class="return-description">
A confirmation that were suitable PDB chains for extraction. (boolean)
</span></li>
</ul>
</div>
<div data-search="scan_candidates" class="method-section"><span class="method-name" data-search="scan_candidates">scan_candidates()</span><br/><br/><span class="info-label">Description:</span><br/><br/><span class="method-description">
Coordinates the computation of the metrics.
</span><br/><br/>
</div>
<div data-search="set_candidates" class="method-section"><span class="method-name" data-search="set_candidates">set_candidates()</span><br/><br/><span class="info-label">Description:</span><br/><br/><span class="method-description">
Sets the candidate PDB chains for the computation of the metrics.
</span><br/><br/>
</div>
</div></body>
